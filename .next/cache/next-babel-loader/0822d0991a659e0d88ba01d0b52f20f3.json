{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('10wFaJAFkO8AneyNyDTw527YsT_Rs8kkwrNo72d12hCA');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    console.log(JSON.parse(req.body));\n    res.end(req.body);\n    const sheet = doc.sheetsByIndex[1];\n    await sheet.addRow({\n      Name: \"Fulano\",\n      Email: \"Fulano@gmail.com\",\n      Whatsapp: \"985662431\",\n      Cupom: \"10%\",\n      Promo: 'teste'\n    });\n  } catch (err) {\n    console.log(err);\n  }\n});","map":{"version":3,"sources":["C:/FrontEndTrack/hunchbox/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","console","log","JSON","parse","body","end","sheet","sheetsByIndex","addRow","Name","Email","Whatsapp","Cupom","Promo","err"],"mappings":"AAAA,SAAQA,iBAAR,QAAgC,oBAAhC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAkB;AAE/B,MAAG;AACD,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWP,GAAG,CAACQ,IAAf,CAAZ;AACAP,IAAAA,GAAG,CAACQ,GAAJ,CAAQT,GAAG,CAACQ,IAAZ;AACA,UAAME,KAAK,GAAGX,GAAG,CAACY,aAAJ,CAAkB,CAAlB,CAAd;AAEA,UAAMD,KAAK,CAACE,MAAN,CAAa;AACjBC,MAAAA,IAAI,EAAE,QADW;AAEjBC,MAAAA,KAAK,EAAE,kBAFU;AAGjBC,MAAAA,QAAQ,EAAE,WAHO;AAIjBC,MAAAA,KAAK,EAAE,KAJU;AAKjBC,MAAAA,KAAK,EAAE;AALU,KAAb,CAAN;AAQD,GAhBD,CAiBA,OAAMC,GAAN,EAAU;AACRd,IAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;AACD;AACF,CAtBD","sourcesContent":["import {GoogleSpreadsheet} from 'google-spreadsheet';\r\nimport credentials from '../../credentials.json'\r\nconst doc = new GoogleSpreadsheet('10wFaJAFkO8AneyNyDTw527YsT_Rs8kkwrNo72d12hCA')\r\n\r\nexport default async (req, res)=>{\r\n\r\n  try{\r\n    await doc.useServiceAccountAuth(credentials)\r\n    await doc.loadInfo()\r\n    \r\n    console.log(JSON.parse(req.body));\r\n    res.end(req.body)\r\n    const sheet = doc.sheetsByIndex[1]\r\n\r\n    await sheet.addRow({ \r\n      Name: \"Fulano\",\r\n      Email: \"Fulano@gmail.com\",\r\n      Whatsapp: \"985662431\",\r\n      Cupom: \"10%\",\r\n      Promo: 'teste'\r\n    \r\n    })\r\n  }\r\n  catch(err){\r\n    console.log(err)\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}