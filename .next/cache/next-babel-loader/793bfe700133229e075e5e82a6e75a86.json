{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('10wFaJAFkO8AneyNyDTw527YsT_Rs8kkwrNo72d12hCA');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const data = JSON.parse(req.body);\n    const sheet = doc.sheetsByIndex[1];\n    const payload = await sheet.addRow({\n      Name: data.Name,\n      Email: data.Email,\n      Whatsapp: data.Whatsapp,\n      Cupom: \"10%\",\n      Promo: 'teste'\n    });\n    res.send(req.body);\n  } catch (err) {\n    console.log(err);\n    res.end(err);\n  }\n});","map":{"version":3,"sources":["C:/FrontEndTrack/hunchbox/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","data","JSON","parse","body","sheet","sheetsByIndex","payload","addRow","Name","Email","Whatsapp","Cupom","Promo","send","err","console","log","end"],"mappings":"AAAA,SAAQA,iBAAR,QAAgC,oBAAhC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAkB;AAE/B,MAAG;AACD,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,IAAI,GAAIC,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACO,IAAf,CAAd;AAEA,UAAMC,KAAK,GAAGT,GAAG,CAACU,aAAJ,CAAkB,CAAlB,CAAd;AAEA,UAAMC,OAAO,GAAG,MAAMF,KAAK,CAACG,MAAN,CAAa;AACjCC,MAAAA,IAAI,EAAER,IAAI,CAACQ,IADsB;AAEjCC,MAAAA,KAAK,EAAET,IAAI,CAACS,KAFqB;AAGjCC,MAAAA,QAAQ,EAAEV,IAAI,CAACU,QAHkB;AAIjCC,MAAAA,KAAK,EAAE,KAJ0B;AAKjCC,MAAAA,KAAK,EAAE;AAL0B,KAAb,CAAtB;AAQAf,IAAAA,GAAG,CAACgB,IAAJ,CAASjB,GAAG,CAACO,IAAb;AACD,GAjBD,CAkBA,OAAMW,GAAN,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAjB,IAAAA,GAAG,CAACoB,GAAJ,CAAQH,GAAR;AACD;AACF,CAxBD","sourcesContent":["import {GoogleSpreadsheet} from 'google-spreadsheet';\r\nimport credentials from '../../credentials.json'\r\nconst doc = new GoogleSpreadsheet('10wFaJAFkO8AneyNyDTw527YsT_Rs8kkwrNo72d12hCA')\r\n\r\nexport default async (req, res)=>{\r\n\r\n  try{\r\n    await doc.useServiceAccountAuth(credentials)\r\n    await doc.loadInfo()\r\n    \r\n    const data = (JSON.parse(req.body));\r\n    \r\n    const sheet = doc.sheetsByIndex[1]\r\n    \r\n    const payload = await sheet.addRow({ \r\n      Name: data.Name,\r\n      Email: data.Email,\r\n      Whatsapp: data.Whatsapp,\r\n      Cupom: \"10%\",\r\n      Promo: 'teste'\r\n      \r\n    })\r\n    res.send(req.body)\r\n  }\r\n  catch(err){\r\n    console.log(err)\r\n    res.end(err)\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}